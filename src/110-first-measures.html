<h3>Первые такты</h3>

<h4>Запись в Rosegarden</h4>

<p>У нас есть два инструмента - бас и ударные, а значит, можно вознаградить себя за усердие и наконец-то написать несколько тактов нашей будущей композиции. Начинать будем не с начала, а с некоторого абстрактного куска где-нибудь посередине, который потом дополним вступлениями, развитием темы, отступлениями и дополнительными частями.</p>

<p>Переключимся в редактор Rosegarden комнаты <em>Эксперименты</em>, чтобы создать пару простеньких рисунков для каналов 1 (бас) и 10 (ударные). Двойным щелчком по метке первой дорожки (<em>&laquo;без имен&raquo;</em>) переименовываем её в <em>Бас</em>. В группе полей <strong>Параметры дорожки</strong>  справа выбираем 1-й канал для фильтра записи. В группе <strong>Параметры инструментов</strong> снимаем галочки с полей <strong>Банк</strong> и <strong>Программа</strong>, чтобы Rosegarden не посылал событий смены патчей в Ardour.</p>
<img src="images/rosegarden-rename-track.png" />
<img src="images/rosegarden-bass-parameters.png" />

<p>Уже можно записывать с MIDI-клавиатуры, но прежде настроим метроном и названия ударных. Вызываем диалог через меню <strong>Студия/Управление метрономом...</strong>, и вводим значение высоты тона 44 для такта, для доли и для слабой доли. На этой ноте на 10-м канале у нас закрытый хай-хэт. Метроном автоматически включается при записи или может быть включен при воспроизведении щелчком на кнопку метронома в транспорте. Транспорт вызывается и скрывается клавишей T.</p>
<img src="images/rosegarden-metronome.png" />

<p>Дорожку номер 10 переименовываем в <em>Ударные</em>, выбираем для неё 10-й канал для фильтра записи.</p>
<img src="images/rosegarden-drums-bass-parameters.png" />

<p>Отредактируем названия ударников.</p>
<ol>
    <li>Открываем диалог <strong>Студия/Управление MIDI-инструментами</strong>.</li>
    <li>Нажимаем кнопку <strong>Банки...</strong></li>
    <li>Нажимаем <strong>Добавить компоновку клавиатуры</strong></li>
    <li>В окне справа вводим названия наших ударных с позиции 37 и ниже.</li>
    <li>Двойным щелчком по добавленному банку <em>&laquo;новая компоновка&raquo;</em> переименовываем его в <code>Composition Drums</code> (названия банков должны быть латинскими буквами).</li>
    <li>В левой таблице выбираем банк перкуссии <em>Bank 1:0</em>.</li>
    <li>На пустой вкладке 65-96 на позиции 65 введём имя банка перкуссии <code>Composition</code></li>
    <li>Нажимаем кнопку с иконкой клавиатуры слева от названия банка, выбираем <strong>Composition Drums</strong>.</li>
</ol>
<img src="images/rosegarden-drum-names.png" />
<img src="images/rosegarden-bank-name.png" />
<img src="images/rosegarden-bank-select.png" />

<p>Диалоги можно закрыть. В параметрах инструмента (на левой панели снизу) дорожки 10 выбираем <em>65. Composition</em> для поля <strong>Программы</strong> (список нужно прокрутить вниз). И снимаем галочки с полей <em>Банк</em> и <em>Программа</em>, чтобы Rosegarden не генерировал MIDI-события смены патча.</p>
<img src="images/rosegarden-drum-bank-selected.png" />

<p>Инструментом рисования (карандаш) создадим на дорожке <em>Ударные</em> сегмент от цифры 2 до цифры 3. Двойным щелчком по нему открываем и видим драм-ролл с названиями ударных снизу вверх. По клику на название они звучат.</p>
<img src="images/rosegarden-drum-segment.png" />
<img src="images/rosegarden-drum-roll.png" />

<p>С помощью зажатой кнопки Shift и мыши выделим один такт под линейкой метра, чтобы создать петлю. Теперь при воспроизведении Rosegarden здесь зациклится, и можно будет мышкой делать партию ударных, слушая, что получается.</p>
<img src="images/rosegarden-loop.png" />

<p>Ноты можно записывать с MIDI-контроллера - в том числе, вводить их пошагово при помощи кнопки на панели. Вот получившийся паттерн ударных.</p>
<img src="images/rosegarden-drums-first-roll.png" />

<p>Чтобы записать бас с MIDI-контроллера, удостоверимся, что запись включена на дорожке <em>Бас</em> в главном окне и, нажав на транспорте кнопку записи, записываем партию по первому каналу, затем квантуем.</p>

<p>При создании басовой партии учитываем, что она должна перекликаться с бочкой, ноты надо начинать либо одновременно с бочкой, либо обыгрывать сильные и слабые доли такта чередованием бочки и баса - в общем, играть так, будто это один сложный инструмент. Кроме того, не стоит увлекаться мелодической линией. Бас - инструмент тяжёлый, и перетянет на себя функции лидирующей партии, а аккомпанементу останется либо настаивать на тонике, либо модулировать и оттенять бас.</p>

<p>Это в идеале, а в реальности получилось показанное на скриншоте.</p>
<img src="images/rosegarden-bass-first-roll.png" />

<p>Скопируем этот такт на три последующих, выделенные сегменты склеиваются кнопкой на панели. Немного подправим с вариациями.</p>
<img src="images/rosegarden-extend-parts.png" />
<img src="images/rosegarden-drums-extended.png" />
<img src="images/rosegarden-bass-extended.png" />

<h4>Импорт в Ardour</h4>

<p>Теперь запишем результат на дорожки Ardour и продолжим редактирование там. Щелкнув с нажатой кнопкой Shift под метром, отключим петлю. Приглушим все дорожки кроме первой и десятой.</li>
<img src="images/rosegarden-bass-drums-solo.png" />

<ol>
    <li>Убедимся, что синхронизация в Ardour установлена на JACK, если нет, переключаемся на него с внутренней синхронизации.</li>
    <li>Установим текущую позицию на начало и нажмём кнопку записи транспорта.</li>
    <li>На дорожках <em>Ударные MIDI</em> и <em>Бас MIDI</em> активируем запись.</li>
    <li>Нажмём кнопку воспроизведения и остановим где-нибудь на тишине после шестого такта.</li>
</ol>
<img src="images/ardour-record-on.png" />

<p>Результат немного несинхронен, но квантование решит проблему.</p>
<img src="images/ardour-recorded.png" />

<p>Квантование производится через контекстное меню клипа ударных <strong>MIDI/Квантование</strong>, можно добавить немного свинга (20%-30%) для ударных. Для баса свинг не обязателен. Уменьшим размеры клипов слева и справа до сетки тактов (2-6) инструментом Захват (палец).</p>
<img src="images/ardour-swing.png" />
<img src="images/ardour-recorded-edit.png" />
